## IMAGE SEGMENTATION with 3D Slicer

This is the big enchilada. Segmentation is what most people begin learning Slicer for and it is one of the first steps acquiring data towards a morphometric study. Careful extraction of anatomy and constructing an accurate 3D representation will have direct downstream impact on some of the analytical procedures, particularly for various semi-landmarking approaches and other morphometric techniques that require dense-correspondence. 

In Slicer, there two complementary modules that are used hand-in-hand for segmentation tasks.

1. `Segment Editor: ` is the actual module for segmentation of volumes. Segmentation (also known as contouring) delineate structures of interest. Some of the tools in `Segment Editor` mimic a painting interface like photoshop, but work on 3D arrays of voxels rather than on 2D pixels. In addition to the core segmentation tools (such threshold, paint, logical operations etc) provided, **SegmentEditorExtraEffects** extension (already bundled with SlicerMorph) provides additional segmentation tools (such as Mask/Split Volume by segments etc).   
2. `Segmentations:` is the module that allows you to manipulate the segmentations generated by `Segment Editor`. Some of the key functionality is to import/export segmentations into **Label Map** or **3D Model** representation, adjust and edit display properties, copy/move segments across different segmentations, and so forth. 

In addition there are couple supporting modules such as:

3. `Segment Statistics`, which allows you to extract quantitative information (such as volumes, moments of interia, centroid positions, etc) from the segmentations and tabulate them.
4. `Segment Comparison` allows you calculate various similarity indices for two different segmentations (e.g., compare segmentation results from one expert to the other). 
5. `Segment Registration` allows you to linearly and/or deformably register segments from two different datasets using the Elastix registration framework. 
6. `Segment cross-section area` module allows you to calculate, plot and tabulate the cross-sectional area of any segment as a function of slice number. 

If you are new to image segmentation, probably you should read the [official **Image Segmentation** documentation from Slicer.](https://slicer.readthedocs.io/en/latest/user_guide/image_segmentation.html)

Even if you have previous experience with other 3D segmentation programs, it might be good to take a minute to read the Slicer specific functionalities and how different types of data types relate to each other (see figure below).

<img src="DataTypes.png">


### Additional Resources for Image Segmentation in Slicer
* [Documentation for `Segment Editor` module](https://slicer.readthedocs.io/en/latest/user_guide/modules/segmenteditor.html)
* [Documentation for `Segmentations` module](https://slicer.readthedocs.io/en/latest/user_guide/modules/segmentations.html)
* [Perk lab at the Queens University develops most of the segmentation tools present in Slicer. They have an extensive video library on segmentation related tasks on youtube:](https://www.youtube.com/user/PerkLabResearch)
* [Slicer Segmentation Recipes repository.](https://lassoan.github.io/SlicerSegmentationRecipes/) While these all oriented towards medical segmentation, they are useful in learning specific tools and how to use them.

### Next steps

Please go through [our Segmentation tutorial](https://github.com/SlicerMorph/Spr_2021/blob/master/Day_2/Segmentation/Segmentation_tutorial.md). 

We specifically use a very small datasets to demonstrate some of the key functionality. Keep in mind some of the segmentation operations may require many times the size of your volume and can be potentially slow on large datasets. When you are working on your own dataset, don't be tempted to work on full resolution first. It is likely that you will do lots of retakes, you really don't want to slow yourself. Once you have a good idea of how you would tackle different segmentation tasks with combining different tools, then it will be time to work with full resolution data.

**THERE IS LIMITED UNDO** Segment Editor undos only a few number of steps. Make sure to save your segmentations often. Remember you can right-click in the `Data` module and choose **Export As** and save your segmentation. 
